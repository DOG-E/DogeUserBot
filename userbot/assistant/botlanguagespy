# @DogeUserBot - < https://t.me/DogeUserBot >
# Copyright (C) 2021 - DOG-E
# Tüm hakları saklıdır.
#
# Bu dosya, < https://github.com/DOG-E/DogeUserBot > parçasıdır.
# Lütfen GNU Affero Genel Kamu Lisansını okuyun;
# < https://www.github.com/DOG-E/DogeUserBot/blob/DOGE/LICENSE/ >
# ================================================================
from re import compile

from telethon import Button
from telethon.events import CallbackQuery

from . import check_owner, doge, get_back_button, mention, sgvar

plugin_category = "bot"


@doge.bot.on(CallbackQuery(data=compile(r"lang_menu")))
@check_owner
async def setlang(event):
    buttons = [
        Button.inline(
            "",
            data=f"set_{dogelang}",
        )
    ]
    buttons.append([Button.inline(f"🐾 Mᴇɴᴜ", data="mainmenu")])
    await event.edit(
        f"**🐶 [Doɢᴇ UsᴇʀBoᴛ](https://t.me/DogeUserBot)\
        \n{lan('menutext').format(mention)}\
        \n\
        \n🌍 {lan('doges_languages')}:**",
        buttons=buttons,
        link_preview=False,
    )


@doge.bot.on(CallbackQuery(data=compile(b"set_(.*)")))
@check_owner
async def setthelang(event):
    lang = event.data_match.group(1).decode("UTF-8")
    await event.edit(
        "dil değişti",
        buttons=get_back_button("lang_menu"),
    )
    
